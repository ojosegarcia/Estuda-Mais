<div class="perfil-container">
  <div class="perfil-header">
    <div class="profile-avatar-large">
      <span class="avatar-initials-large">{{ getUserInitials() }}</span>
    </div>
    <h1 class="perfil-title">Meu Perfil</h1>
  </div>

  <div class="perfil-content" *ngIf="currentUser">
    <div class="info-card">
      <div class="card-header">
        <h2 class="card-title">
          <span class="icon">üë§</span>
          Informa√ß√µes Pessoais
        </h2>
      </div>

      <div class="card-body">
        <div class="info-grid">
          <div class="info-item">
            <label class="info-label">Nome Completo</label>
            <p class="info-value">{{ currentUser.nomeCompleto }}</p>
          </div>

          <div class="info-item">
            <label class="info-label">Email</label>
            <p class="info-value">{{ currentUser.email }}</p>
          </div>

          <div class="info-item">
            <label class="info-label">Tipo de Usu√°rio</label>
            <div class="badge-container">
              <span class="user-type-badge" [class.professor]="isProfessor()">
                {{ currentUser.tipoUsuario }}
              </span>
            </div>
          </div>

          <div class="info-item" *ngIf="isAluno() && getEscolaridade()">
            <label class="info-label">Escolaridade</label>
            <p class="info-value">{{ getEscolaridade() }}</p>
          </div>

          <div class="info-item" *ngIf="isAluno() && getInteresse()">
            <label class="info-label">Meu Objetivo</label>
            <p class="info-value">{{ getInteresseLabel() }}</p>
          </div>
        </div>

        <div class="info-item full-width" *ngIf="isProfessor() && getSobre()">
          <label class="info-label">Sobre</label>
          <p class="info-value about-text">{{ getSobre() }}</p>
        </div>

        <!-- MAT√âRIAS DO PROFESSOR -->
        <div class="info-item full-width" *ngIf="isProfessor() && getMaterias().length > 0">
          <label class="info-label">
            <span class="icon">üìö</span>
            Mat√©rias que Leciono
          </label>
          <div class="materias-badges">
            <span class="materia-badge" *ngFor="let materia of getMaterias()">
              <span class="materia-icon">{{ materia.icone }}</span>
              {{ materia.nome }}
            </span>
          </div>
        </div>

        <div class="info-item full-width" *ngIf="isProfessor() && getMaterias().length === 0">
          <label class="info-label">
            <span class="icon">‚ö†Ô∏è</span>
            Mat√©rias que Leciono
          </label>
          <p class="info-value warning-text">Nenhuma mat√©ria cadastrada. Edite seu perfil para adicionar.</p>
        </div>
      </div>
    </div>

    <div class="stats-card">
      <div class="card-header">
        <h2 class="card-title">
          <span class="icon">üìä</span>
          Estat√≠sticas
        </h2>
      </div>

      <div class="card-body">
        <div class="stats-grid">
          <div class="stat-item">
            <div class="stat-icon">üìö</div>
            <div class="stat-content">
              <p class="stat-value">0</p>
              <p class="stat-label">Aulas {{ currentUser.tipoUsuario === 'PROFESSOR' ? 'Ministradas' : 'Realizadas' }}
              </p>
            </div>
          </div>

          <div class="stat-item">
            <div class="stat-icon">‚≠ê</div>
            <div class="stat-content">
              <p class="stat-value">0.0</p>
              <p class="stat-label">Avalia√ß√£o M√©dia</p>
            </div>
          </div>

          <div class="stat-item">
            <div class="stat-icon">üéØ</div>
            <div class="stat-content">
              <p class="stat-value">0</p>
              <p class="stat-label">{{ currentUser.tipoUsuario === 'PROFESSOR' ? 'Alunos' : 'Professores' }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="actions-card">
      <div class="card-header">
        <h2 class="card-title">
          <span class="icon">‚öôÔ∏è</span>
          A√ß√µes
        </h2>
      </div>

      <div class="card-body">
        <button class="btn-action" (click)="editarPerfil()">
          <span class="action-icon">‚úèÔ∏è</span>
          <span>Editar Perfil</span>
        </button>

        <button class="btn-action" disabled>
          <span class="action-icon">üîî</span>
          <span>Notifica√ß√µes</span>
          <span class="coming-soon">Em breve</span>
        </button>
      </div>
    </div>
  </div>

  <div class="loading-state" *ngIf="!currentUser">
    <div class="loading-spinner"></div>
    <p>Carregando perfil...</p>
  </div>
</div>