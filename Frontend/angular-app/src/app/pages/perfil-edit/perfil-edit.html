<div class="perfil-container"> <div class="perfil-header">
    <h1 class="perfil-title">Editar Perfil</h1>
    <p>Atualize suas informa√ß√µes. Esses dados ser√£o vistos por outros usu√°rios.</p>
  </div>

  <div class="perfil-content" *ngIf="profileForm">
    <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">

      <div class="info-card">
        <div class="card-header">
          <h2 class="card-title">
            <span class="icon">‚úèÔ∏è</span>
            Suas Informa√ß√µes
          </h2>
        </div>
        
        <div class="card-body">
          <div class="info-grid">

            <div class="info-item">
              <label class="info-label" for="nomeCompleto">Nome Completo</label>
              <input class="info-value" id="nomeCompleto" formControlName="nomeCompleto">
              </div>

            <div class="info-item">
              <label class="info-label" for="telefone">Telefone</label>
              <input class="info-value" id="telefone" formControlName="telefone" placeholder="(opcional)">
            </div>
            
            <div class="info-item" *ngIf="f['escolaridade']">
              <label class="info-label" for="escolaridade">Escolaridade *</label>
              <input class="info-value" id="escolaridade" formControlName="escolaridade" placeholder="Ex: Ensino M√©dio Completo">
            </div>

            <div class="info-item" *ngIf="f['interesse']">
              <label class="info-label" for="interesse">Meu Objetivo *</label>
              <select class="info-value" id="interesse" formControlName="interesse">
                <option value="">Selecione seu objetivo</option>
                <option value="APRENDER_NOVO">üåü Aprender algo novo</option>
                <option value="REFORCAR_CONHECIMENTO">üí™ Refor√ßar o que j√° sei</option>
                <option value="PREPARAR_CONQUISTA">üéØ Me preparar para uma conquista</option>
              </select>
            </div>

            <div class="info-item" *ngIf="f['valorHora']">
              <label class="info-label" for="valorHora">Valor da Hora/Aula (R$)</label>
              <input class="info-value" type="number" id="valorHora" formControlName="valorHora">
            </div>
          </div>
          
          <div class="info-item full-width" *ngIf="f['sobre']">
            <label class="info-label" for="sobre">Sobre Mim</label>
            <textarea class="info-value about-text" id="sobre" formControlName="sobre" rows="6" placeholder="Escreva uma biografia..."></textarea>
          </div>
          
          <div class="info-item full-width" *ngIf="f['metodologia']">
            <label class="info-label" for="metodologia">Minha Metodologia</label>
            <textarea class="info-value about-text" id="metodologia" formControlName="metodologia" rows="4" placeholder="Como s√£o suas aulas?"></textarea>
          </div>

          <!-- SE√á√ÉO DE MAT√âRIAS - APENAS PARA PROFESSORES -->
          <div class="info-item full-width" *ngIf="isProfessor()">
            <label class="info-label required-field">
              <span class="icon">üìö</span>
              Mat√©rias que Leciono *
            </label>
            <p class="field-hint">Selecione pelo menos uma mat√©ria que voc√™ ensina:</p>
            
            <div class="materias-grid">
              <div 
                *ngFor="let materia of todasMaterias" 
                class="materia-checkbox-card"
                [class.selected]="isMateriaSelected(materia.id)"
                (click)="toggleMateria(materia.id)"
              >
                <input 
                  type="checkbox" 
                  [id]="'materia-' + materia.id"
                  [checked]="isMateriaSelected(materia.id)"
                  (click)="$event.stopPropagation()"
                  (change)="toggleMateria(materia.id)"
                >
                <label [for]="'materia-' + materia.id" class="materia-label">
                  <span class="materia-icon">{{ materia.icone }}</span>
                  <span class="materia-nome">{{ materia.nome }}</span>
                  <span class="check-icon" *ngIf="isMateriaSelected(materia.id)">‚úì</span>
                </label>
              </div>
            </div>
            
            <p class="materias-count" *ngIf="materiasSelecionadas.size > 0">
              {{ materiasSelecionadas.size }} mat√©ria(s) selecionada(s)
            </p>
          </div>
          
          <div class="form-actions">
            <button type="button" (click)="router.navigate(['/perfil'])" class="btn-secondary">
              Cancelar
            </button>
            <button type="submit" [disabled]="profileForm.invalid" class="btn-primary">
              Salvar Altera√ß√µes
            </button>
          </div>

        </div>
      </div>
    </form>
  </div>
</div>