<div class="perfil-container">
  <div class="perfil-header">
    <h1 class="perfil-title">Editar Perfil</h1>
    <p>Atualize suas informa√ß√µes. Esses dados ser√£o vistos por outros usu√°rios.</p>
  </div>

  <form class="perfil-content" *ngIf="profileForm" [formGroup]="profileForm" (ngSubmit)="onSubmit()">

    <div class="info-card">
      <div class="card-header">
        <h2 class="card-title">
          <span class="icon">‚úèÔ∏è</span>
          Suas Informa√ß√µes
        </h2>
      </div>
      <div class="card-body">
        <div class="info-grid">

          <div class="info-item">
            <label class="info-label" for="nomeCompleto">Nome Completo</label>
            <input class="info-value" id="nomeCompleto" formControlName="nomeCompleto">
          </div>

          <div class="info-item">
            <label class="info-label" for="telefone">Telefone</label>
            <input class="info-value" id="telefone" formControlName="telefone" placeholder="(opcional)">
          </div>

          <div class="info-item" *ngIf="f['escolaridade']">
            <label class="info-label" for="escolaridade">Escolaridade *</label>
            <select class="info-value" id="escolaridade" formControlName="escolaridade">
              <option *ngFor="let esc of opcoesEscolaridade" [value]="esc">{{ esc }}</option>
            </select>
          </div>

          <div class="info-item" *ngIf="f['interesse']">
            <label class="info-label" for="interesse">Meu Objetivo *</label>
            <select class="info-value" id="interesse" formControlName="interesse">
              <option value="">Selecione seu objetivo</option>
              <option *ngFor="let opt of opcoesInteresse" [value]="opt.value">{{ opt.label }}</option>
            </select>
          </div>

          <div class="info-item" *ngIf="f['valorHora']">
            <label class="info-label" for="valorHora">Valor da Hora/Aula (R$)</label>
            <input class="info-value" type="number" id="valorHora" formControlName="valorHora">
          </div>
        </div>

        <div class="info-item full-width" *ngIf="f['sobre']">
          <label class="info-label" for="sobre">Sobre Mim</label>
          <textarea class="info-value about-text" id="sobre" formControlName="sobre" rows="6" placeholder="Escreva uma biografia..."></textarea>
        </div>
        <div class="info-item full-width" *ngIf="f['metodologia']">
          <label class="info-label" for="metodologia">Minha Metodologia</label>
          <textarea class="info-value about-text" id="metodologia" formControlName="metodologia" rows="4" placeholder="Como s√£o suas aulas?"></textarea>
        </div>
      </div>
    </div> <div class="info-card" *ngIf="isProfessor()">
      <div class="card-header">
        <h2 class="card-title">
          <span class="icon">üìö</span>
          Mat√©rias que Leciono *
        </h2>
      </div>
      <div class="card-body">
        <div class="info-item full-width">
          <p class="field-hint">Selecione pelo menos uma mat√©ria que voc√™ ensina:</p>
          
          <div class="materias-grid" formArrayName="materiasBase">
            <div *ngFor="let materia of todasMaterias; let i = index" class="materia-checkbox-card"
              [class.selected]="isMateriaSelected(materia.id)" (click)="toggleMateria(materia.id)">
              
              <input type="checkbox" 
                     [id]="'materia-' + materia.id" 
                     [formControlName]="i"
                     (click)="$event.stopPropagation()">
              
              <label [for]="'materia-' + materia.id" class="materia-label">
                <span class="materia-icon">{{ materia.icone }}</span>
                <span class="materia-nome">{{ materia.nome }}</span>
                <span class="check-icon" *ngIf="isMateriaSelected(materia.id)">‚úì</span>
              </label>
            </div>
          </div>
          <p class="materias-count" *ngIf="materiasSelecionadas.size > 0">
            {{ materiasSelecionadas.size }} mat√©ria(s) selecionada(s)
          </p>
        </div>

        <!-- Campo de mat√©rias customizadas DESABILITADO temporariamente -->
        <!--
        <div class="info-item full-width">
          <label class="info-label" for="materiaCustomInput">Adicionar outras mat√©rias</label>
          <p class="field-hint">N√£o encontrou? Adicione aqui (ex: "Alem√£o", "C√°lculo IV").</p>
          <div class="input-com-botao">
            <input class="info-value" id="materiaCustomInput" formControlName="materiaCustomInput" (keydown.enter)="adicionarMateriaCustom(); $event.preventDefault()">
            <button type="button" class="btn-secondary" (click)="adicionarMateriaCustom()">Adicionar</button>
          </div>
          <div class="tags-container" *ngIf="materiasCustomizadas.length > 0">
            <span *ngFor="let nome of materiasCustomizadas; let i = index" class="tag">
              {{ nome }}
              <button typeGype="button" (click)="removerMateriaCustom(i)" title="Remover">&times;</button>
            </span>
          </div>
        </div>
        -->
      </div>
    </div> <div class="form-actions">
      <button type="button" (click)="cancelar()" class="btn-secondary">
        Cancelar
      </button>
      <button type="submit" [disabled]="profileForm.invalid" class="btn-primary">
        Salvar Altera√ß√µes
      </button>
    </div>

  </form> </div> ```